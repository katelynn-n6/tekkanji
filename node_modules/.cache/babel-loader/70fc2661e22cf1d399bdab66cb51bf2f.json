{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/katelynn/Documents/GitHub/tekkanji/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/katelynn/Documents/GitHub/tekkanji/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Learn(){var _useLocation=useLocation(),state=_useLocation.state;var lesson=state.lesson,level=state.level,kanji=state.kanji,kanjiStr=state.kanjiStr;var navigate=useNavigate();var navigateHome=function navigateHome(){return navigate(\"/\");};var _useState=useState(0),_useState2=_slicedToArray(_useState,2),index=_useState2[0],setIndex=_useState2[1];var done=false;var replay=function replay(e){if(!done){var reset=function reset(v){v.addEventListener(\"ended\",myHandler,false);function myHandler(e){console.log(\"ended\");setTimeout(function(){v.play();},3000);}};var video=document.getElementsByClassName(\"stroke\");var _iterator=_createForOfIteratorHelper(video),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var el=_step.value;reset(el);}}catch(err){_iterator.e(err);}finally{_iterator.f();}done=!done;}};var move=function move(){setIndex(index+1);};var moveBack=function moveBack(){setIndex(index-1);};var toggleEngJpn=function toggleEngJpn(idx,num){document.getElementById(\"jpn\"+idx+num).style.display=\"none\";document.getElementById(\"eng\"+idx+num).style.display=\"inline-block\";setTimeout(function(){document.getElementById(\"eng\"+idx+num).style.display=\"none\";document.getElementById(\"jpn\"+idx+num).style.display=\"inline-block\";},2000);};var playAudio=function playAudio(idx,num){document.getElementById(\"audio\"+idx+num).play();};useEffect(function(){var videos=document.getElementsByClassName(\"stroke\");for(var i=0;i<videos.length;i++){videos[i].playbackRate=1.25;videos[i].pause();videos[i].currentTime=0;if(i===index){videos[i].play();}}var boxes=document.getElementsByClassName(\"full-box\");document.getElementById(\"fwd\").style.visibility=\"visible\";document.getElementById(\"back\").style.visibility=\"visible\";for(var _i=0;_i<boxes.length;_i++){boxes[_i].style.display=\"none\";if(_i===index){boxes[_i].style.display=\"block\";}}if(index===boxes.length-1){document.getElementById(\"fwd\").style.visibility=\"hidden\";}else if(index===0){document.getElementById(\"back\").style.visibility=\"hidden\";}},[index]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" you chose L\",lesson,\" and you are in JAPN \",level,\"! \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"the kanji in this lesson are: \",kanjiStr]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box-a-box\",children:kanji.map(function(item,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"full-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kanji-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video\",children:/*#__PURE__*/_jsx(\"video\",{muted:true,className:\"stroke\",onPlay:function onPlay(e){return replay(e);},width:\"190px\",children:/*#__PURE__*/_jsx(\"source\",{src:item.kanji.video.mp4,type:\"video/mp4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"kanji: \",/*#__PURE__*/_jsx(\"span\",{children:item.kanji.character})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"meaning: \",/*#__PURE__*/_jsx(\"span\",{children:item.kanji.meaning.english})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"kun: \",/*#__PURE__*/_jsx(\"span\",{children:item.kanji.kunyomi.hiragana})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"on: \",/*#__PURE__*/_jsx(\"span\",{children:item.kanji.onyomi.katakana})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"example-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"examples\",children:item.examples.map(function(ex,i){return/*#__PURE__*/_jsx(\"div\",{className:\"ex-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ex\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"play-btn\",onClick:function onClick(e){return playAudio(idx,i);},children:\"▶\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ex-jpn\",id:\"jpn\"+idx+i,onClick:function onClick(e){return toggleEngJpn(idx,i);},children:ex.japanese}),/*#__PURE__*/_jsx(\"div\",{className:\"ex-eng\",id:\"eng\"+idx+i,children:ex.meaning.english}),/*#__PURE__*/_jsx(\"audio\",{id:\"audio\"+idx+i,children:/*#__PURE__*/_jsx(\"source\",{src:ex.audio.mp3,type:\"audio/mpeg\"})})]})},i);})})})]},idx);})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"back\",className:\"learn-btn\",onClick:moveBack,children:\"<\"}),/*#__PURE__*/_jsx(\"button\",{onClick:navigateHome,children:\" home \"}),/*#__PURE__*/_jsx(\"button\",{id:\"fwd\",className:\"learn-btn\",onClick:move,children:\">\"})]})]});}export default Learn;","map":{"version":3,"names":["React","useNavigate","useLocation","useState","useEffect","Learn","state","lesson","level","kanji","kanjiStr","navigate","navigateHome","index","setIndex","done","replay","e","reset","v","addEventListener","myHandler","console","log","setTimeout","play","video","document","getElementsByClassName","el","move","moveBack","toggleEngJpn","idx","num","getElementById","style","display","playAudio","videos","i","length","playbackRate","pause","currentTime","boxes","visibility","map","item","mp4","character","meaning","english","kunyomi","hiragana","onyomi","katakana","examples","ex","japanese","audio","mp3"],"sources":["/Users/katelynn/Documents/GitHub/tekkanji/src/pages/Learn.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nfunction Learn() {\n  const { state } = useLocation();\n  const { lesson, level, kanji, kanjiStr } = state;\n\n  let navigate = useNavigate();\n  const navigateHome = () => navigate(\"/\");\n\n  const [index, setIndex] = useState(0);\n\n  let done = false;\n  const replay = (e) => {\n    if (!done) {\n      var video = document.getElementsByClassName(\"stroke\");\n      function reset(v) {\n        v.addEventListener(\"ended\", myHandler, false);\n        function myHandler(e) {\n          console.log(\"ended\");\n          setTimeout(function () {\n            v.play();\n          }, 3000);\n        }\n      }\n      for (const el of video) {\n        reset(el);\n      }\n      done = !done;\n    }\n  };\n\n  const move = () => {\n    setIndex(index + 1);\n  };\n\n  const moveBack = () => {\n    setIndex(index - 1);\n  };\n\n  const toggleEngJpn = (idx, num) => {\n    document.getElementById(\"jpn\" + idx + num).style.display = \"none\";\n    document.getElementById(\"eng\" + idx + num).style.display = \"inline-block\";\n    setTimeout(function () {\n      document.getElementById(\"eng\" + idx + num).style.display = \"none\";\n      document.getElementById(\"jpn\" + idx + num).style.display = \"inline-block\";\n    }, 2000);\n  };\n\n  const playAudio = (idx, num) => {\n    document.getElementById(\"audio\" + idx + num).play();\n  };\n\n  useEffect(() => {\n    var videos = document.getElementsByClassName(\"stroke\");\n    for (let i = 0; i < videos.length; i++) {\n      videos[i].playbackRate = 1.25;\n      videos[i].pause();\n      videos[i].currentTime = 0;\n      if (i === index) {\n        videos[i].play();\n      }\n    }\n    var boxes = document.getElementsByClassName(\"full-box\");\n    document.getElementById(\"fwd\").style.visibility = \"visible\";\n    document.getElementById(\"back\").style.visibility = \"visible\";\n    for (let i = 0; i < boxes.length; i++) {\n      boxes[i].style.display = \"none\";\n      if (i === index) {\n        boxes[i].style.display = \"block\";\n      }\n    }\n    if (index === boxes.length - 1) {\n      document.getElementById(\"fwd\").style.visibility = \"hidden\";\n    } else if (index === 0) {\n      document.getElementById(\"back\").style.visibility = \"hidden\";\n    }\n  }, [index]);\n\n  return (\n    <div className=\"App\">\n      <div>\n        <p>\n          {\" you chose L\"}\n          {lesson} and you are in JAPN {level}\n          {\"! \"}\n        </p>\n        <p>the kanji in this lesson are: {kanjiStr}</p>\n      </div>\n      <div className=\"box-a-box\">\n        {kanji.map((item, idx) => {\n          return (\n            <div className=\"full-box\" key={idx}>\n              <div className=\"kanji-box\">\n                <div className=\"video\">\n                  <video\n                    muted\n                    className=\"stroke\"\n                    onPlay={(e) => replay(e)}\n                    width=\"190px\"\n                  >\n                    <source src={item.kanji.video.mp4} type=\"video/mp4\" />\n                  </video>\n                </div>\n                <div className=\"info\">\n                  <p>\n                    kanji: <span>{item.kanji.character}</span>\n                  </p>\n                  <p>\n                    meaning: <span>{item.kanji.meaning.english}</span>\n                  </p>\n                  <p>\n                    kun: <span>{item.kanji.kunyomi.hiragana}</span>\n                  </p>\n                  <p>\n                    on: <span>{item.kanji.onyomi.katakana}</span>\n                  </p>\n                </div>\n              </div>\n              <div className=\"example-box\">\n                <div className=\"examples\">\n                  {item.examples.map((ex, i) => {\n                    return (\n                      <div className=\"ex-box\" key={i}>\n                        <div className=\"ex\">\n                          <button\n                            className=\"play-btn\"\n                            onClick={(e) => playAudio(idx, i)}\n                          >\n                            {\"▶\"}\n                          </button>\n                          <div\n                            className=\"ex-jpn\"\n                            id={\"jpn\" + idx + i}\n                            onClick={(e) => toggleEngJpn(idx, i)}\n                          >\n                            {ex.japanese}\n                          </div>\n                          <div className=\"ex-eng\" id={\"eng\" + idx + i}>\n                            {ex.meaning.english}\n                          </div>\n\n                          <audio id={\"audio\" + idx + i}>\n                            <source\n                              src={ex.audio.mp3}\n                              type=\"audio/mpeg\"\n                            ></source>\n                          </audio>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <button id=\"back\" className=\"learn-btn\" onClick={moveBack}>\n          {\"<\"}\n        </button>\n\n        <button onClick={navigateHome}> home </button>\n\n        <button id=\"fwd\" className=\"learn-btn\" onClick={move}>\n          {\">\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Learn;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}